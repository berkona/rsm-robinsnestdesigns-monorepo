{
  "version": 2,
  "name": "robins-nest-designs",
  "alias": ["robins-nest-designs.berkona.now.sh"],
  "env": {
    "SQL_ENGINE": "mssql",
    "SQL_HOST": "@sql-host",
    "SQL_USER": "@sql-user",
    "SQL_PWD": "@db-password",
    "SQL_DB": "@sql-db",
    "PAYPAL_CLIENTID": "@paypal-client-id",
    "PAYPAL_CLIENTSECRET": "@paypal-client-secret-sandbox",
    "API_URL": "@api-url",
    "JWT_SECRET": "@jwt-secret",
    "JWT_ISSUER": "@jwt-issuer",
    "JWT_MAX_AGE": "@jwt-max-age"
  },
  "builds": [
    { "src": "www/next.config.js", "use": "@now/next" },
    { "src": "api/handler.js", "use": "@now/node" }
  ],
  "routes": [
    { "src": "/graphql", "dest": "api/handler.js" },
    { "src": "/googlea7696e4bbcfecd2f.html", "dest": "/www/static/googlea7696e4bbcfecd2f.html" },
    { "src": "/product/(?<productId>[^/]+).*$", "dest": "/www/product?productId=$productId" },
    { "src": "/category/(?<categoryId>[^/]+).*$", "dest": "/www/category?categoryId=$categoryId" },
    { "src": "/order/(?<orderId>[^/]+).*$", "dest": "/www/order?orderId=$orderId" },
    {
      "src": "/(.*)",
      "dest": "/www/$1",
      "headers": {
        "x-request-path": "$1"
      }
    },
    {
      "src": "/_next/static/(?:[^/]+/pages|chunks|runtime)/.+",
      "headers": { "cache-control": "immutable" }
    }
  ]
}
